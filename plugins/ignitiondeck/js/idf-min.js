function openLB(e,i){jQuery.magnificPopup.open({type:"inline",items:{src:jQuery(e)},callbacks:{open:function(){null!=i?jQuery(document).trigger("idc_lightbox_level_select",i):jQuery(document).trigger("idc_lightbox_general");var e=jQuery('.idc_lightbox:visible select[name="level_select"] option').size();if(1==e)var t=jQuery('.idc_lightbox:visible select[name="level_select"]').val(),l=jQuery(".idc_lightbox:visible input.total").val();else 0==e&&jQuery(".idc_lightbox:visible .lb_level_submit").val("No Levels Available").attr("disabled","disabled");jQuery('.idc_lightbox:visible input[name="total"]').change(function(){var e=jQuery(this).val(),i=e.replace(/[^0-9\.]+/g,"");jQuery(document).trigger("idc_lightbox_price_change",i)})},close:function(){}}})}function openLBGlobal(e,i,t){var l,e;"object"==typeof e?(l=e.type,source="iframe"==l?e.source:jQuery(e)):(l="inline",source=jQuery(e)),jQuery.magnificPopup.open({type:l,items:{src:source},callbacks:{open:function(){jQuery(document).trigger("idc_lightbox_global",e)},close:function(){jQuery(document).trigger("idc_close_lightbox_global",e)}}})}function closeLBGlobal(){jQuery.magnificPopup.close()}function adjustHeights(e){var i=2;(jQuery(e).height()>jQuery(e).parent().height()||jQuery(e).width()>jQuery(e).parent().width())&&jQuery(e).css("font-size",jQuery(e).css("font-size").substr(0,2)-2+"px").css("line-height",jQuery(e).css("font-size").substr(0,2)+"px")}jQuery(document).ready(function(){"wc"==idf_platform?jQuery.each(jQuery(".level-binding"),function(e,i){console.log("k: "+e+" v: "+i);var t=jQuery(this).attr("href");if(t){var l=t.indexOf("?add-to-cart="),r=t.substring(l+13);jQuery(this).data("id",r),jQuery('.idc_lightbox select[name="level_select"] option[value="'+(e+1)+'"]').data("id",r)}}):"edd"==idf_platform&&jQuery.each(jQuery(".level-binding"),function(e,i){var t=jQuery(this).attr("href");if(t){var l=t.indexOf("&download_id="),r=t.indexOf("&edd_options"),o=l+13,a=r-o,n=t.substring(o,o+a);jQuery(this).data("id",n),jQuery('.idc_lightbox select[name="level_select"] option').eq(e).data("id",n)}}),jQuery.each(jQuery(".id-full .btn-container a, .level-binding, .ign-supportnow a"),function(){var e=jQuery(this).attr("href");void 0!==e&&(e.length>1&&e.indexOf("purchaseform")>0?(jQuery(this).attr("href",".idc_lightbox"),jQuery(this).data("href",e)):e.length>1&&e.indexOf("add-to-cart")>0?(jQuery(this).attr("href",".idc_lightbox"),jQuery(this).data("href",e)):e.length>1&&e.indexOf("add_to_cart")>0&&(jQuery(this).attr("href",".idc_lightbox"),jQuery(this).data("href",e)),jQuery(document).trigger("idcfSupportButtonSet",[e]))}),jQuery(".id-full .btn-container a, .ign-supportnow a").click(function(e){var i=jQuery(this).data("href");if(".idc_lightbox"==jQuery(this).attr("href")){e.preventDefault();var t=jQuery(this).parents().size();jQuery(this).parents().each(function(e,l){if(jQuery(this).find(".idc_lightbox").length>0){return openLB(jQuery(this).find(".idc_lightbox"),null),!1}void 0!==i&&e==t-1&&(location.href=i)})}}),jQuery(".level-binding").click(function(e){e.preventDefault();var i=jQuery(this).data("href");if(".idc_lightbox"==jQuery(this).attr("href")){var t=jQuery(this).index();jQuery(this).parents().each(function(){if(jQuery(this).children(".idc_lightbox").length>0){return openLB(jQuery(this).children(".idc_lightbox"),t),!1}})}}),jQuery(document).bind("idc_lightbox_price_change",function(e,i){jQuery('.idc_lightbox:visible input[name="total"]').val(i);var t=jQuery('.idc_lightbox:visible select[name="level_select"]').prop("selectedIndex"),l=jQuery('.idc_lightbox:visible select[name="level_select"] option').eq(t).data("price");parseFloat(i)<parseFloat(l)&&jQuery('.idc_lightbox:visible input[name="total"]').val(l)}),jQuery('input[name="lb_level_submit"]').click(function(e){e.preventDefault(),jQuery(".idc_lightbox:visible input.total").removeClass("error");var i=jQuery('.idc_lightbox:visible select[name="level_select"]').val(),t=jQuery(".idc_lightbox:visible input.total").val(),l=!0;if(void 0==t)var t=jQuery(".idc_lightbox:visible span.total").data("value"),l=!1;var r=jQuery(".idc_lightbox:visible form").attr("action"),o=jQuery('.idc_lightbox:visible select[name="level_select"] option:selected').data("id"),a=!1;if("wc"==idf_platform?r=idf_checkout_url+"?add-to-cart="+o:"edd"==idf_platform?r=idf_checkout_url+"?edd_action=add_to_cart&download_id="+o+"&edd_options[price_id]="+(i-1):("idc"==idf_platform&&(r=r.replace("prodid","mdid_checkout")),r=r+"&level="+i+"&price="+t),jQuery(".idc_lightbox:visible form").attr("action",r),l&&t<=0){var n=jQuery('.idc_lightbox:visible select[name="level_select"]').prop("selectedIndex");0!==jQuery('.idc_lightbox:visible select[name="level_select"] option').eq(n).data("price")&&(jQuery(".idc_lightbox:visible input.total").addClass("error"),a=!0)}a||jQuery(".idc_lightbox:visible form").submit()})});