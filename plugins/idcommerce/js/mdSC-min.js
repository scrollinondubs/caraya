jQuery(document).ready(function(){function e(){var e=jQuery("#button-style").val();jQuery("#button-display a").removeClass(),jQuery("#button-display a").addClass(e)}function s(){jQuery(".sc_user").remove(),jQuery.ajax({type:"POST",url:md_ajaxurl,data:{action:"idsc_get_users"},success:function(e){if(e){var s=JSON.parse(e);jQuery.each(s,function(){jQuery('select[name="clear_creds"]').append('<option value="'+this.user_id+'" class="sc_user">'+this.display+"</option>")})}}})}function a(){jQuery(".assigned_user").remove(),jQuery(".assigned_product").remove(),jQuery.ajax({type:"POST",url:md_ajaxurl,data:{action:"idsc_assignment_list"},success:function(e){if(e){var s=JSON.parse(e),a=s.users,u=s.products;jQuery.each(a,function(){jQuery('select[name="assign_user"]').append('<option value="'+this.ID+'" class="assigned_user">'+this.ID+" - "+this.data.display_name+", "+this.data.user_email+"</option>")}),jQuery.each(u,function(){jQuery('select[name="assign_product"]').append('<option value="'+this.id+'" class="assigned_product">'+this.id+" - "+this.level_name+"</option>")})}}})}s(),a(),e(),jQuery("#button-style").change(function(){e()}),jQuery('input[name="sc_revoke"]').click(function(e){e.preventDefault();var a=jQuery('select[name="clear_creds"]').val();jQuery.ajax({type:"POST",url:md_ajaxurl,data:{action:"idsc_revoke_creds",user_id:a},success:function(e){s()}})}),jQuery('input[name="sc_assign"]').click(function(e){e.preventDefault();var s=jQuery('select[name="assign_user"]').val(),u=jQuery('select[name="assign_product"]').val();jQuery.ajax({type:"POST",url:md_ajaxurl,data:{action:"idc_ide_assign_user",user_id:s,Product:u},success:function(e){if(e){var s=jQuery('input[name="sc_assign"]').val();jQuery('input[name="sc_assign"]').val("Saved!"),setTimeout(function(){jQuery('input[name="sc_assign"]').val(s)},1e3)}a()}})})});